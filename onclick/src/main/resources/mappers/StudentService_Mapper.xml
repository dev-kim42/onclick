<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.onclick.app.persistence.StudentService_Mapper">

<select id="studentIdChcek" parameterType="HashMap" resultType="Integer">
SELECT count(*) as cnt 
FROM  onclick_student  
WHERE sdelYn='N'
AND sidx=#{sidx}
</select>

<update id="studentJoin" parameterType="HashMap">
UPDATE onclick_student
SET sname=#{sname},spwd=#{spwd},semail=#{semail},sphone=#{sphone}
WHERE sidx=#{sidx}
</update>

<select id="studentLogin" parameterType="HashMap" resultType="sv">
		<![CDATA[select * from onclick_student where sdelYN='N' and sidx=#{id} and spwd=#{pwd}]]>
	</select>
	
	<select id="stuLecSelectAll" parameterType="int" resultType="ed">
		select a.eidx, a.sidx, a.lidx, b.lname
			from onclick_enroll a
			inner join onclick_prolec b
				on a.lidx = b.lidx
				where a.sidx=#{id}
	</select>
	
	<select id="stuLecHome" parameterType="int" resultType="lv">
		select * from onclick_prolec where ldelyn='N' and lidx=#{lidx}
	</select>
</mapper>